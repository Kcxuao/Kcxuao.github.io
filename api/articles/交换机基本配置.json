{"title":"交换机基本配置","uid":"00e1daa9b6e7a95a8a71dff2678dcf11","slug":"交换机基本配置","date":"2022-06-29T07:52:19.000Z","updated":"2022-06-29T07:52:42.221Z","comments":true,"path":"api/articles/交换机基本配置.json","keywords":null,"cover":null,"content":"<h3 id=\"交换机的基本配置\"><a href=\"#交换机的基本配置\" class=\"headerlink\" title=\"交换机的基本配置\"></a>交换机的基本配置</h3><p>1.掌握思科设备的命令行基础</p>\n<p>2.会对交换机进行基本配置</p>\n<p>会通过telnet和ssh对交换机进行远程管理</p>\n<h4 id=\"一、思科设备命令行基础\"><a href=\"#一、思科设备命令行基础\" class=\"headerlink\" title=\"一、思科设备命令行基础\"></a>一、思科设备命令行基础</h4><h5 id=\"1-进入设备的命令行界面\"><a href=\"#1-进入设备的命令行界面\" class=\"headerlink\" title=\"1.进入设备的命令行界面\"></a>1.进入设备的命令行界面</h5><ul>\n<li>设备支持命令行<ul>\n<li>查看设备上的端口，是否有console</li>\n</ul>\n</li>\n<li>需要console线</li>\n<li>需要超级终端等软件连接<ul>\n<li>putty</li>\n<li>secret CRT</li>\n<li>xshell</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"2-命令行基础\"><a href=\"#2-命令行基础\" class=\"headerlink\" title=\"2.命令行基础\"></a>2.命令行基础</h5><ul>\n<li>思科设备上的命令行模式<ul>\n<li><p>用户模式：查看统计信息（用的很少），用 “&gt;” 表示</p>\n<ul>\n<li><p>用户模式切换至特权模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch&gt;enable\nen\t\t\t\t\t#简写<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n</li>\n<li><p>特权模式：查看并修改设备配置（查看居多），用 “#” 表示</p>\n<ul>\n<li><p>特权模式切换至全局模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch#configure terminal\nconf t\t\t#简写<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n</li>\n<li><p>全局模式：针对设备整体配置参数，用“config”表示</p>\n<ul>\n<li><p>全局模式切换至接口模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#interface [f0&#x2F;1]\nint [f0&#x2F;1]\t#简写<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n</li>\n<li><p>接口模式：针对设备接口配置参数，用“config-if”表示</p>\n</li>\n<li><p>控制台模式，用“config-line”表示</p>\n<ul>\n<li><p>全局模式切换至控制台模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#line console 0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n</li>\n<li><p>注意</p>\n<ul>\n<li><p>进入对应模式只能一级一级进入</p>\n</li>\n<li><p>返回对应模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">exit\t\t#一级一级返回\nend\t\t\t#快速返回特权模式<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>命令输入错误后会进入解析模式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#no ip domain-lookup \t\t#永不进行域名解析<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"3-常见配置\"><a href=\"#3-常见配置\" class=\"headerlink\" title=\"3.常见配置\"></a>3.常见配置</h5><ul>\n<li><p>配置交换机主机名</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#hostname\t[name]\t\t#设置交换机名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>查看MAC地址表</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch#show mac-address-table \t\t#查看MAC地址表<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>交换机双工模式查看与设置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config-if)#duplex ?\t\t\t\t\t\t\t\t\t\t#查看命令\n  auto  Enable AUTO duplex configuration\t\t\t#自适应双工模式\n  full  Force full duplex operation\t\t\t\t\t\t#全双工模式\n  half  Force half-duplex operation\t\t\t\t\t\t#半双工模式\n  \nSwitch#show int [f0&#x2F;1]\t\t\t\t\t\t\t\t\t\t\t\t#查看双工模式<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>交换机接口速率</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config-if)#speed ?\n\t10    Force 10 Mbps operation\t\t\t\t\t\t\t#10Mb&#x2F;s\n  100   Force 100 Mbps operation\t\t\t\t\t\t#100Mb&#x2F;s\n  1000  Force 100 Mbps operation\t\t\t\t\t\t#1000Mb&#x2F;s\n  auto  Enable AUTO speed configuration\t\t\t#自适应速率<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>配置console接口密码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config-line)#password [123]\t\t\t\t\t#设置密码\nSwitch(config-line)#login\t\t\t\t\t\t\t\t\t\t#启用登录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>查看配置文件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch#show running-config \t\t\t\t\t#查看内存中配置文件\nSwitch#show startup-config \t\t\t\t\t#查看硬盘中配置文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>恢复出厂设置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch#erase startup-config \t\t#删除硬盘中配置文件\nSwitch#reload\t\t\t\t\t\t\t\t\t\t#重启交换机<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n<h4 id=\"二、通过远程管理方式连接交换机（telnetssh）\"><a href=\"#二、通过远程管理方式连接交换机（telnetssh）\" class=\"headerlink\" title=\"二、通过远程管理方式连接交换机（telnet\tssh）\"></a>二、通过远程管理方式连接交换机（telnet\tssh）</h4><h5 id=\"1-telnet\"><a href=\"#1-telnet\" class=\"headerlink\" title=\"1.telnet\"></a>1.telnet</h5><ul>\n<li>属于应用层协议\t基于传输层TCP协议\t默认端口号：23\t采用明文密码方式\t不安全\t一般用于内网管理</li>\n</ul>\n<h5 id=\"2-ssh\"><a href=\"#2-ssh\" class=\"headerlink\" title=\"2.ssh\"></a>2.ssh</h5><ul>\n<li>属于应用层协议\t基于传输层TCP协议\t默认端口号：22\t采用秘闻密码方式\t相对安全\t一般用于跨互联网管理以及远程管理linux操作系统</li>\n</ul>\n<h5 id=\"3-操作过程\"><a href=\"#3-操作过程\" class=\"headerlink\" title=\"3.操作过程\"></a>3.操作过程</h5><p><strong>telnet</strong></p>\n<ul>\n<li><p>为交换机虚拟接口（vlan 1）配置IP</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#int vlan 1\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t#进入vlan 1接口\nSwitch(config-if)#ip address [10.1.1.3] [255.255.255.0]\t\t\t#配置ip与子网掩码\nSwitch(config-if)#no shutdown\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t#开启端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>配置设备连接终端</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#line vty 0 [4]\t\t\t\t\t\t\t#设置0-4个终端\nSwitch(config-line)#password [123]\t\t\t\t#设置密码\nSwitch(config-line)#login\t\t\t\t\t\t\t\t\t#启用登录\n\nSwitch(config)#username [abc] password [123]\t\t#设置账号与密码\nSwitch(config)#line vty 0 [4]\t\t\t\t\t\t\t\t\t\t#设置0-4个终端\nSwitch(config-line)#login\tlocal\t\t\t\t\t\t\t\t\t#启用账号密码登录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>设置特权模式密码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#enable password [123]\t\t#设置明文密码\nSwitch(config)#enable secret [123]\t\t\t#设置密文密码（优先级最高）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>应用</p>\n</li>\n</ul>\n<p><strong>ssh</strong></p>\n<ul>\n<li><p>为交换机虚拟接口（vlan 1）配置IP</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#int vlan 1\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t#进入vlan 1接口\nSwitch(config-if)#ip address [10.1.1.3] [255.255.255.0]\t\t\t#配置ip与子网掩码\nSwitch(config-if)#no shutdown\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t#开启端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>配置设备连接终端</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch#show ip ssh\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t#判断交换机是否支持ssh\nSwitch(config)#hostname [sw1]\t\t\t\t\t\t\t\t\t\t#改名（创建域名不能够使用默认名字）\nsw1(config)#ip domain-name [kcc.com]\t\t\t\t\t\t#创建域名\nsw1(config)#crypto key generate rsa\t\t\t\t\t\t\t#创建密钥对\nsw1(config)#ip ssh time-out [120]\t\t\t\t\t\t\t\t#设置超时时间\nsw1(config)#ip ssh authentication-retries\t[3] \t#设置密码输入次数\nSwitch(config)#username [abc] password [123]\t\t#设置账号与密码\nSwitch(config)#line vty 0 [4]\t\t\t\t\t\t\t\t\t\t#设置0-4个终端\nSwitch(config-line)#login\tlocal\t\t\t\t\t\t\t\t\t#启用账号密码登录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>设置特权模式密码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Switch(config)#enable password [123]\t\t#设置明文密码\nSwitch(config)#enable secret [123]\t\t\t#设置密文密码（优先级最高）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n","feature":true,"text":"交换机的基本配置1.掌握思科设备的命令行基础 2.会对交换机进行基本配置 会通过telnet和ssh对交换机进行远程管理 一、思科设备命令行基础1.进入设备的命令行界面 设备支持命令行 查看设备上的端口，是否有console 需要console线 需要超级终端等软件连接 putt...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">交换机的基本配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E6%80%9D%E7%A7%91%E8%AE%BE%E5%A4%87%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">一、思科设备命令行基础</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-%E8%BF%9B%E5%85%A5%E8%AE%BE%E5%A4%87%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">1.进入设备的命令行界面</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">2.命令行基础</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">3.常见配置</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E9%80%9A%E8%BF%87%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E8%BF%9E%E6%8E%A5%E4%BA%A4%E6%8D%A2%E6%9C%BA%EF%BC%88telnetssh%EF%BC%89\"><span class=\"toc-text\">二、通过远程管理方式连接交换机（telnet\tssh）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-telnet\"><span class=\"toc-text\">1.telnet</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-ssh\"><span class=\"toc-text\">2.ssh</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-%E6%93%8D%E4%BD%9C%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">3.操作过程</span></a></li></ol></li></ol></li></ol>","author":{"name":"Kcxuao","slug":"blog-author","avatar":"https://img2.baidu.com/it/u=3631451984,3719946192&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"计算机网络","uid":"293c17b4d2a4292133cc4d1ffd7f8725","slug":"计算机网络","date":"2022-06-29T07:51:03.000Z","updated":"2022-06-29T07:51:08.937Z","comments":true,"path":"api/articles/计算机网络.json","keywords":null,"cover":null,"text":"计算机网络一、计算机网络的基本概念1.什么是计算机网络 由两台或多台计算机通过网络设备进行串联（网络设备通过传输介质串联） 网络设备 计算机 路由交换 防火墙 上网行为管理 …… 传输介质 双绞线（网线）5类、超5类、6类、7类 光纤 无线（2.4GHz、5GHz） 2.计算机网...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[],"tags":[],"author":{"name":"Kcxuao","slug":"blog-author","avatar":"https://img2.baidu.com/it/u=3631451984,3719946192&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}